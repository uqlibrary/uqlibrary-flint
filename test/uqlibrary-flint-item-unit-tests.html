<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=no">
  <title>uqlibrary-flint-categories-list-unit-test</title>

  <script src="../../webcomponentsjs/webcomponents.min.js"></script>
  <script src="../../web-component-tester/browser.js"></script>

  <link rel="import" href="../uqlibrary-flint-item.html">
</head>
<body>

<uqlibrary-flint-item></uqlibrary-flint-item>

<script>
  window.addEventListener('polymer-ready', function() {

    var element = document.querySelector('uqlibrary-flint-item');

    describe('unit tests for uqlibrary-flint-item', function () {

      var handlers = [];
      var item =   {
        "id": "UQ:353892",
        "object_type_i": 3,
        "display_type_i": 263,
        "file_downloads_i": 3,
        "created_date_dt": "2015-03-16T09:58:36Z",
        "created_date_year_t": "2015",
        "updated_date_dt": "2015-04-27T15:48:58Z",
        "updated_date_year_t": "2015",
        "title_t": "Translation of \"I eat\".",
        "depositor_i": 19929,
        "pid_t": "UQ:353892",
        "description_t": "The Flint papers comprise written documents collected by Flint mostly as part of a long term research project in the 1960's. In the course of this Queensland speech survey, Flint recorded traditional Aboriginal Languages. This collection also documents the Yuulngu (Gupapuyngu) language. Other parts of the collection include journal articles of languages, correspondence with field-linguists and staff from academic institutions, Indonesian material, and documentation of the English spoken by Australian Aboriginal and Torres Strait Islander peoples, Australian and regional pidgins, \"migrants\" and \"mother-tongue\" people from different ages, regions or socio-economic groups.",
        "sequence_i": 0,
        "genre_t": "audio\/wav",
        "views_i": 15,
        "status_i": 2,
        "depositor_affiliation_i": 1164,
        "citation_t": "<a class=\"citation_author_name\" title=\"Browse by Author Name for Flint, Elwyn Henry\" href=\"\/list\/author\/Flint%2C+Elwyn+Henry\/\">Flint, Elwyn Henry<\/a> () <a class=\"citation_title\" title=\"Click to view Audio Document: Translation of &amp;quot;I eat&amp;quot;.\" href=\"\/view\/UQ:353892\">Translation of &quot;I eat&quot;.<\/a>. : . (<span class=\"citation_series\">Elwyn Flint collection, UQFL173<\/span>)",
        "object_type_i_lookup": "Record",
        "object_type_i_lookup_exact": "Record",
        "display_type_i_lookup": "Audio Document",
        "display_type_i_lookup_exact": "Audio Document",
        "status_i_lookup": "Published",
        "status_i_lookup_exact": "Published",
        "open_access_t": "1",
        "_authlister_t": "56573",
        "_authcreator_t": "56550",
        "_autheditor_t": "56368",
        "keywords_mt": [
          "Queensland Speech Survey",
          "Aboriginal Australians -- Languages",
          "Traditional language sentence"
        ],
        "refereed_source_i": 453638,
        "refereed_source_i_lookup": "Not yet assessed",
        "refereed_source_i_lookup_exact": "Not yet assessed",
        "transcript_t": "Researcher Speech Eat. I eat.<br \/>Participant Speech (L)<br \/>Researcher Speech (L)<br \/>Participant Speech (L)<br \/>Researcher Speech (L)<br \/>Researcher Speech (L)<br \/>Researcher Speech (L)<br \/>Researcher Speech (L)<br \/>Researcher Speech (L)<br \/><br \/>",
        "acknowledgements_t": "This project supported by the Australian National Data Service [MODC 23]",
        "assigned_user_id_mt": ["19929"],
        "author_mt": ["Flint, Elwyn Henry"],
        "author_mt_exact": ["Flint, Elwyn Henry"],
        "contributor_mt": ["Conway, Eddie"],
        "contributor_mt_exact": ["Conway, Eddie"],
        "series_t": "Elwyn Flint collection, UQFL173",
        "identifier_mt": ["Group 329"],
        "subject_mi": [453670],
        "subject_mi_lookup": ["Yukulta \/ Gangalidda"],
        "subject_mi_lookup_exact": ["Yukulta \/ Gangalidda"],
        "date_available_dt": "2015-01-01T00:00:00Z",
        "date_available_year_t": "2015",
        "file_attachment_name_mt": [
          "UQFL173_b41_R329_1112064.wav",
          "presmd_UQFL173_b41_R329_1112064.xml",
          "stream_UQFL173_b41_R329_1112064.flv"
        ],
        "ismemberof_mt": ["UQ:353627"],
        "ismemberof_mt_lookup": ["Flint test"],
        "ismemberof_mt_lookup_exact": ["Flint test"],
        "first_author_in_document_derived_t": "Flint",
        "source_t": "Elwyn Flint collection, UQFL173, Box 41, Tape R329,",
        "alternate_genre_mi": [453663],
        "alternate_genre_mi_lookup": ["Conversation"],
        "alternate_genre_mi_lookup_exact": ["Conversation"],
        "_version_": 1499667357095690240,
        "timestamp": "2015-04-28T04:10:41.602Z"
      };

      before(function () {
        element.item = item;
      });

      afterEach(function(){
        handlers.forEach(function(item){
          element.removeEventListener(item.event, item.handler);
        })

        handlers = [];
      });

      it('item should be set', function(done) {
        expect(element.item.id).to.be.equal(item.id);
        done();
      });

      it('items should be displayed', function(done) {
        setTimeout(function () {
          var languageDisplay = element.shadowRoot.querySelector('#itemLanguage');
          expect(languageDisplay).not.to.be.null;
          expect(languageDisplay.innerHTML).to.be.equal(item.subject_mi_lookup[0]);
          done();
        }, 100);
      });

    });
  });

</script>

</body>
</html>
