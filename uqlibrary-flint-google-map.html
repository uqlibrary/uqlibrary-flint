<link rel="import" href="../uqlibrary-elements/0.5.4/lib/vulcanized-flint.html">
<polymer-element name="uqlibrary-flint-google-map" extends="google-map" attributes="items">
  <template>
    <google-map minZoom="4" on-google-map-ready="{{mapReady}}" map="{{map}}" id="gmap" disableDefaultUI fitToMarkers>

      <template repeat="{{language, languageIndex in items}}">
        <google-map-marker title="{{language_cvo_title}}" latitude="{{language.cvo_lat}}"
                           longitude="{{language.cvo_long}}"
                           data-index="{{languageIndex}}" clickEvents mouseEvents
                           on-google-map-marker-mouseover="{{markerHoverHandler}}"
                           on-google-map-marker-click="{{mapMarkerClicked}}"
            >
          <core-collapse opened>
            <div layout horizontal on-click="{{showDetails(languageIndex)}}">
              <div self-center flex>{{language.cvo_title}}</div>
              <div>
                <core-icon icon="chevron-right" hidden?="{{!isTouchDevice}}"></core-icon>
              </div>
            </div>
          </core-collapse>

        </google-map-marker>
      </template>

    </google-map>
  </template>
  <script src="scripts/uqlibrary-flint-google-map.js"></script>
</polymer-element>
